# ğŸ›¡ï¸ ON-CHAIN BUNKER
*A Post-Apocalyptic Shelter Management Game on Sui*
---
## ğŸ“Œ Giá»›i thiá»‡u
**On-Chain Bunker** lÃ  má»™t game quáº£n lÃ½ háº§m trÃº áº©n 2D, láº¥y cáº£m há»©ng tá»« *Fallout Shelter*, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn **Sui Blockchain**.
Trong má»™t tháº¿ giá»›i háº­u táº­n tháº¿, ngÆ°á»i chÆ¡i sáº½:
* Sá»Ÿ há»¯u má»™t **háº§m trÃº áº©n (Bunker)** on-chain
* Quáº£n lÃ½ cÃ¡c **NPC sinh tá»“n duy nháº¥t**
* Gá»­i NPC Ä‘i **thÃ¡m hiá»ƒm hoang Ä‘á»‹a**
* Thu tháº­p tÃ i nguyÃªn, váº­t pháº©m hiáº¿m
* Má»Ÿ rá»™ng vÃ  nÃ¢ng cáº¥p háº§m trÃº áº©n theo thá»i gian
Äiá»ƒm khÃ¡c biá»‡t cá»‘t lÃµi:
> **NPC, váº­t pháº©m hiáº¿m vÃ  tiáº¿n trÃ¬nh phÃ¡t triá»ƒn Ä‘á»u lÃ  object on-chain, thá»±c sá»± thuá»™c vá» ngÆ°á»i chÆ¡i.**
---
## ğŸ¯ Má»¥c tiÃªu dá»± Ã¡n
Dá»± Ã¡n Ä‘Æ°á»£c xÃ¢y dá»±ng trong khuÃ´n khá»• **hackathon Build on Sui**, vá»›i cÃ¡c má»¥c tiÃªu chÃ­nh:
1. **Chá»©ng minh kháº£ nÄƒng biá»ƒu diá»…n NPC nhÆ° má»™t object on-chain**
2. XÃ¢y dá»±ng má»™t gameplay loop quáº£n lÃ½ hoÃ n chá»‰nh:
   > Quáº£n lÃ½ NPC â†’ ThÃ¡m hiá»ƒm â†’ Nháº­n káº¿t quáº£ â†’ PhÃ¡t triá»ƒn bunker
3. Thá»ƒ hiá»‡n rÃµ **giÃ¡ trá»‹ thá»±c táº¿ cá»§a blockchain trong game**, khÃ´ng chá»‰ lÃ  token hay NFT Ä‘Æ¡n thuáº§n, báº±ng cÃ¡ch táº­n dá»¥ng mÃ´ hÃ¬nh object-centric cá»§a Sui Ä‘á»ƒ Ä‘áº£m báº£o quyá»n sá»Ÿ há»¯u minh báº¡ch, tÃ­nh cÃ´ng báº±ng vÃ  khÃ´ng thá»ƒ gian láº­n.
---
## ğŸ§  Ã tÆ°á»Ÿng cá»‘t lÃµi
### NPC lÃ  trung tÃ¢m
* Má»—i NPC lÃ  duy nháº¥t
* CÃ³ nghá» nghiá»‡p, tráº¡ng thÃ¡i riÃªng (bá» qua chi tiáº¿t ngoáº¡i hÃ¬nh phá»©c táº¡p nhÆ° body, máº·t, tÃ³c, quáº§n Ã¡o Ä‘á»ƒ táº­p trung vÃ o core gameplay trong thá»i gian hackathon háº¡n cháº¿)
* CÃ³ thá»ƒ:
  * LÃ m viá»‡c trong bunker
  * Äi thÃ¡m hiá»ƒm
  * Bá»‹ thÆ°Æ¡ng hoáº·c máº¥t tÃ­ch
  * ÄÆ°á»£c trao Ä‘á»•i vá»›i ngÆ°á»i chÆ¡i khÃ¡c
### Blockchain khÃ´ng chá»‰ Ä‘á»ƒ â€œlÆ°u trá»¯â€
* Quyá»n sá»Ÿ há»¯u NPC & item lÃ  **minh báº¡ch**
* KhÃ´ng thá»ƒ giáº£ máº¡o hoáº·c chá»‰nh sá»­a tuá»³ Ã½
* PhÃ¹ há»£p vá»›i mÃ´ hÃ¬nh **object-centric** cá»§a Sui, nÆ¡i má»i object (NPC, item) Ä‘Æ°á»£c quáº£n lÃ½ trá»±c tiáº¿p trÃªn chain, táº­n dá»¥ng dynamic fields vÃ  shared objects Ä‘á»ƒ há»— trá»£ tÆ°Æ¡ng tÃ¡c linh hoáº¡t nhÆ° trade hoáº·c level up mÃ  khÃ´ng cáº§n intermediary.
---
## ğŸ§© CÃ¡c há»‡ thá»‘ng chÃ­nh
### ğŸ‘¤ Há»‡ thá»‘ng NPC
* Táº¡o ngáº«u nhiÃªn dá»±a trÃªn rarity vÃ  stats (chi tiáº¿t roll rarity vÃ  stats náº±m hoÃ n toÃ n trong smart contract Ä‘á»ƒ Ä‘áº£m báº£o cÃ´ng báº±ng)
* Nghá» nghiá»‡p áº£nh hÆ°á»Ÿng trá»±c tiáº¿p gameplay:
  * Scavenger
  * Engineer
  * Medic
  * Guard
  * Trader
* ChiÃªu má»™ NPC tá»‘n 0.1 SUI, logic xá»­ lÃ½ hoÃ n toÃ n trong smart contract (nháº­n tiá»n, roll rarity, sinh stats vÃ  táº¡o object NPC)
* Chá»‰ sá»‘ cÆ¡ báº£n (HP, stamina, skills) lÆ°u trong object NPC on-chain; giÃ¡ trá»‹ nhÃ¢n váº­t (value/power) Ä‘Æ°á»£c suy ra tá»« dá»¯ liá»‡u on-chain (khÃ´ng lÆ°u riÃªng Ä‘á»ƒ trÃ¡nh redundancy vÃ  táº­n dá»¥ng tÃ­nh toÃ¡n dynamic cá»§a Sui)

### ğŸ  Há»‡ thá»‘ng Bunker & PhÃ²ng chá»©c nÄƒng
* CÃ¡c phÃ²ng cÆ¡ báº£n (giáº£m sá»‘ lÆ°á»£ng Ä‘á»ƒ táº­p trung MVP):
  * Living Quarters
  * Storage
  * Generator
* PhÃ²ng nÃ¢ng cao yÃªu cáº§u Ä‘iá»u kiá»‡n má»Ÿ khoÃ¡ (bá» Workshop Ä‘á»ƒ Ä‘Æ¡n giáº£n hÃ³a, táº­p trung vÃ o core loop)
* PhÃ²ng cÃ³ thá»ƒ nÃ¢ng cáº¥p, liÃªn káº¿t phá»¥ thuá»™c láº«n nhau (logic nÃ¢ng cáº¥p lÆ°u on-chain Ä‘á»ƒ táº­n dá»¥ng object ownership)

### ğŸ§­ Há»‡ thá»‘ng ThÃ¡m hiá»ƒm (Expedition)
* NgÆ°á»i chÆ¡i chá»n:
  * NPC tham gia
  * Thá»i gian thÃ¡m hiá»ƒm
  * TÃ i nguyÃªn mang theo
* Káº¿t quáº£ thÃ¡m hiá»ƒm:
  * TÃ i nguyÃªn
  * Váº­t pháº©m hiáº¿m
  * NPC má»›i
  * Sá»± kiá»‡n ngáº«u nhiÃªn (narrative)
* Logic roll káº¿t quáº£ (tá»· lá»‡ thÃ nh cÃ´ng, rarity item) náº±m trong smart contract, sá»­ dá»¥ng pseudo-random tá»« tx digest/clock/sender Ä‘á»ƒ Ä‘áº£m báº£o tÃ­nh ngáº«u nhiÃªn Ä‘á»§ dÃ¹ng cho hackathon

### ğŸ’ Há»‡ thá»‘ng Váº­t pháº©m
* **TÃ i nguyÃªn tiÃªu hao**: thá»©c Äƒn, nÆ°á»›c, thuá»‘câ€¦ (quáº£n lÃ½ off-chain cho Ä‘Æ¡n giáº£n)
* **Váº­t pháº©m hiáº¿m (object on-chain)**:
  * Trade Ä‘Æ°á»£c
  * DÃ¹ng nÃ¢ng cáº¥p
  * Má»Ÿ khoÃ¡ phÃ²ng hoáº·c tÃ­nh nÄƒng má»›i
---
## ğŸ› ï¸ Thiáº¿t káº¿ On-Chain (Táº­n dá»¥ng Sá»©c Máº¡nh Sui Move)
Dá»± Ã¡n táº­p trung vÃ o thiáº¿t káº¿ on-chain Ä‘á»ƒ Ä‘áº¡t MVP áº¥n tÆ°á»£ng, Ä‘i tháº³ng vÃ o lÃµi game on-chain vÃ  táº­n dá»¥ng object-centric cá»§a Sui Ä‘á»ƒ táº¡o niá»m tin, cÃ´ng báº±ng vÃ  kinh táº¿ thá»±c thá»¥. DÆ°á»›i Ä‘Ã¢y lÃ  phÃ¢n tÃ­ch chi tiáº¿t, chá»‘t rÃµ cÃ¡i gÃ¬ á»Ÿ smart contract â€“ cÃ¡i gÃ¬ á»Ÿ frontend â€“ cÃ¡i gÃ¬ KHÃ”NG nÃªn lÃ m.

### I. Káº¾T LUáº¬N Tá»”NG QUÃT (CHá»T NGáº®N)
* âœ… **Tá»¶ Lá»† (rarity, roll káº¿t quáº£)** â†’ **PHáº¢I náº±m trong smart contract**
* âœ… **CHá»ˆ Sá» CÆ  Báº¢N cá»§a NPC** â†’ **PHáº¢I náº±m trong smart contract**
* âœ… **GiÃ¡ trá»‹ nhÃ¢n váº­t (value / power / score)** â†’ **TÃNH TOÃN Tá»ª ON-CHAIN DATA**
* âŒ **KhÃ´ng Ä‘á»ƒ frontend quyáº¿t Ä‘á»‹nh rarity hay stat**
* âŒ **KhÃ´ng hardcode logic roll á»Ÿ frontend**
ğŸ‘‰ VÃ¬ Ä‘Ã¢y lÃ  **kinh táº¿ + cÃ´ng báº±ng + niá»m tin**. Táº­n dá»¥ng Sui Move Ä‘á»ƒ object tá»± quáº£n lÃ½ state, há»— trá»£ trade atomic vÃ  event emission cho transparency.

### II. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG PHáº¦N
#### 1. ChiÃªu má»™ NPC tá»‘n 0.1 SUI â†’ logic á»Ÿ Ä‘Ã¢u?
ğŸ‘‰ **Smart contract**  
LÃ½ do:  
* LiÃªn quan tiá»n tháº­t (SUI)  
* TrÃ¡nh gian láº­n  
* Frontend khÃ´ng Ä‘Æ°á»£c phÃ©p â€œroll há»™â€  
Trong Move:  
* NgÆ°á»i chÆ¡i gá»­i 0.1 SUI  
* Contract nháº­n tiá»n  
* Contract sinh NPC (sá»­ dá»¥ng Coin<SUI> vÃ  transfer Ä‘á»ƒ xá»­ lÃ½ phÃ­ atomic)

#### III. Tá»¶ Lá»† RARITY Äáº¶T á» ÄÃ‚U?
ğŸ‘‰ **Smart contract â€“ 100%**  
VÃ­ dá»¥ tÆ° duy (KHÃ”NG pháº£i code chÃ­nh xÃ¡c):  
```text
0â€“699 â†’ Common
700â€“899 â†’ Uncommon
900â€“969 â†’ Rare
970â€“989 â†’ Epic
990â€“998 â†’ Legendary
999 â†’ Mythic (náº¿u muá»‘n khoe)
```  
ğŸ“Œ **Frontend chá»‰ hiá»ƒn thá»‹ káº¿t quáº£**  
ğŸ“Œ **Frontend khÃ´ng biáº¿t logic roll chi tiáº¿t**  
Táº­n dá»¥ng Sui: Sá»­ dá»¥ng UID vÃ  dynamic fields Ä‘á»ƒ lÆ°u rarity linh hoáº¡t.

#### IV. RANDOM TRONG SUI â€“ HIá»‚U ÄÃšNG
Sui **KHÃ”NG cho random tuyá»‡t Ä‘á»‘i**, nhÆ°ng hackathon thÃ¬:  
* DÃ¹ng:  
  * tx digest  
  * clock  
  * sender  
* Káº¿t há»£p hash â†’ pseudo-random  
ğŸ‘‰ **Äá»§ dÃ¹ng â€“ BGK cháº¥p nháº­n**  
TÃ­ch há»£p vÃ o Move functions Ä‘á»ƒ roll rarity/stats/expedition results.

#### V. CHá»ˆ Sá» NHÃ‚N Váº¬T KHAI BÃO á» ÄÃ‚U?
ğŸ‘‰ **Trong object NPC (on-chain)**  
VÃ­ dá»¥ tÆ° duy schema:  
```text
NPC
- rarity
- max_hp
- stamina
- hunger
- thirst
- skill_1
- skill_2
- skill_3
```  
ğŸ’¡ LÆ°u Ã½:  
* LÆ°u **GIÃ TRá»Š Gá»C**  
* KhÃ´ng lÆ°u giÃ¡ trá»‹ hiá»ƒn thá»‹  
Sá»­ dá»¥ng Sui's object display Ä‘á»ƒ frontend dá»… query.

#### VI. CHá»ˆ Sá» PHá»¤ THUá»˜C RARITY NHÆ¯ THáº¾ NÃ€O?
CÃ³ 2 cÃ¡ch â€” hackathon nÃªn chá»n **cÃ¡ch 1**.  
âœ… CÃCH 1 (KHUYáº¾N NGHá»Š): Roll base theo rarity  
VÃ­ dá»¥:  
| Rarity | HP | Stamina | Skill slots |  
| --------- | ------- | ------- | ----------- |  
| Common | 80â€“100 | 80â€“100 | 1 |  
| Rare | 110â€“130 | 110â€“130 | 2 |  
| Epic | 140â€“170 | 140â€“170 | 3 |  
| Legendary | 180â€“220 | 180â€“220 | 4 |  
ğŸ‘‰ Contract:  
* XÃ¡c Ä‘á»‹nh rarity  
* Sinh chá»‰ sá»‘ trong biÃªn tÆ°Æ¡ng á»©ng  
* Ghi tháº³ng vÃ o NPC object  
âŒ CÃCH 2 (KHÃ”NG NÃŠN): Frontend tá»± cá»™ng  
âŒ Dá»… gian láº­n  
âŒ KhÃ´ng trustless  
âŒ Sai tÆ° duy on-chain  

#### VII. Ká»¸ NÄ‚NG CÃ NHÃ‚N (SKILL) LÆ¯U á» ÄÃ‚U?
ğŸ‘‰ **On-chain**, dÆ°á»›i dáº¡ng ID  
```text
skill_ids: vector<u8>
```  
Frontend:  
* Map `skill_id â†’ icon + mÃ´ táº£`  

#### VIII. CÃ“ NÃŠN TÄ‚NG â€œGIÃ TRá»Šâ€ NHÃ‚N Váº¬T SAU KHI Má» KHÃ”NG?
CÃ¢u tráº£ lá»i: **CÃ“, NHÆ¯NG KHÃ”NG LÃ€ Sá» RIÃŠNG**  
ğŸš« KhÃ´ng nÃªn lÆ°u:  
```text
npc.value = 1234
```  
âœ… NÃªn lÃ m:  
* GiÃ¡ trá»‹ = **hÃ m suy ra tá»« on-chain data**  
VÃ­ dá»¥:  
```text
value = rarity_weight + level * 10 + total_skill_score
```  
ğŸ‘‰ Frontend:  
* TÃ­nh value Ä‘á»ƒ hiá»ƒn thá»‹  
* KhÃ´ng áº£nh hÆ°á»Ÿng logic game  
Táº­n dá»¥ng Sui's query Ä‘á»ƒ Ä‘á»c object vÃ  tÃ­nh dynamic.

#### IX. LOGIC Náº°M á» ÄÃ‚U? (Cá»°C Ká»² QUAN TRá»ŒNG)
ğŸ§  Smart contract (luáº­t cá»©ng)  
* ChiÃªu má»™  
* Rarity  
* Chá»‰ sá»‘  
* Level up  
* Trade  
* Burn / consume  
* Expedition results (roll on-chain)  
ğŸ® Frontend (tráº£i nghiá»‡m)  
* Animation má»Ÿ NPC  
* Hiá»‡u á»©ng hiáº¿m  
* UI tÄƒng sá»‘  
* Xáº¿p háº¡ng  
* Tooltip giáº£i thÃ­ch  

#### X. SÆ  Äá»’ TÆ¯ DUY (GHI NHá»š)
```
Click "Recruit"
â†“
Pay 0.1 SUI
â†“
Smart contract:
- Roll rarity
- Roll stats
- Create NPC object
â†“
Return UID
â†“
Frontend:
- Read NPC
- Render hÃ¬nh
- Show rarity glow
```

#### XI. TÃ“M Táº®T 1 Láº¦N CUá»I (Cá»°C NGáº®N)
* Tá»· lá»‡ â†’ **Smart contract**  
* Chá»‰ sá»‘ â†’ **Smart contract**  
* GiÃ¡ trá»‹ â†’ **Suy ra tá»« dá»¯ liá»‡u**  
* Frontend â†’ **KhÃ´ng quyáº¿t Ä‘á»‹nh game rule**  

---
## ğŸ§± Kiáº¿n trÃºc tá»•ng thá»ƒ
```
Frontend (Web Game)
  â†“ gá»i transaction
Sui Blockchain (Move Smart Contract)
  â†“ tráº£ object & state
Frontend hiá»ƒn thá»‹ káº¿t quáº£
```
### PhÃ¢n tÃ¡ch rÃµ rÃ ng:
* **Smart Contract (Move)**: luáº­t chÆ¡i, quyá»n sá»Ÿ há»¯u, tráº¡ng thÃ¡i, roll random, stats (táº­n dá»¥ng object-centric cho MVP máº¡nh máº½)
* **Web Game**: giao diá»‡n, tráº£i nghiá»‡m, hiá»ƒn thá»‹ (query object Ä‘á»ƒ render)
* **Backend (optional)**: narrative, event text (khÃ´ng giá»¯ tÃ i sáº£n)
---
## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng
### Blockchain
* Sui Testnet
* Sui Move (táº­n dá»¥ng pseudo-random, dynamic fields, shared objects cho trade/expedition)
* Object-centric smart contract
### Frontend
* Vite + React
* TypeScript
* @mysten/dapp-kit
* Sui Wallet
### Backend (tuá»³ chá»n)
* Node.js
* Narrative / event generator
---
## ğŸ“ Cáº¥u trÃºc thÆ° má»¥c
### Smart Contract
```
contracts/
â”œâ”€ Move.toml
â””â”€ sources/
   â”œâ”€ vault.move
   â”œâ”€ npc.move
   â”œâ”€ room.move
   â”œâ”€ expedition.move
   â””â”€ item.move
```
### Web Game
```
webgame/
â”œâ”€ src/
â”‚ â”œâ”€ pages/
â”‚ â”œâ”€ components/
â”‚ â”œâ”€ services/
â”‚ â”œâ”€ hooks/
â”‚ â”œâ”€ config/
â”‚ â””â”€ types/
```
---
## ğŸš€ CÃ¡ch cháº¡y dá»± Ã¡n (local)
### 1. Deploy smart contract lÃªn Sui Testnet
```bash
cd contracts
sui move build
sui client publish --gas-budget 100000000
```
LÆ°u láº¡i **Package ID** sau khi deploy.
---
### 2. Cháº¡y web game
```bash
cd webgame
npm install
npm run dev
```
Cáº­p nháº­t `Package ID` trong:
```
src/config/sui.ts
```
---
## âš ï¸ Giá»›i háº¡n hiá»‡n táº¡i (Hackathon Scope)
* KhÃ´ng cÃ³ PvP thá»i gian thá»±c
* Event narrative Ä‘Æ°á»£c xá»­ lÃ½ off-chain
* ChÆ°a tá»‘i Æ°u balance dÃ i háº¡n
* Má»¥c tiÃªu lÃ  prototype, khÃ´ng pháº£i game hoÃ n chá»‰nh
* ÄÆ¡n giáº£n hÃ³a ngoáº¡i hÃ¬nh NPC vÃ  sá»‘ lÆ°á»£ng phÃ²ng Ä‘á»ƒ fit 4 ngÃ y (táº­p trung on-chain core)
---
## ğŸ‘¥ Team
* **Tech Lead / System Designer** â€“ Kiáº¿n trÃºc & Move core
* **Move Developer** â€“ Module phá»¥ trá»£ & test
* **Frontend Developer** â€“ UI / UX web game.